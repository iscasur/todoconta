---
import Layout from '../../layouts/Layout.astro';

// Datos est√°ticos de categor√≠as de talleres (para mostrar incluso si el iframe no carga)
const categoriasTalleres = [
  {
    titulo: "Cumplimiento Fiscal",
    descripcion: "Actualizaci√≥n sobre normativas y procedimientos del SAT",
    talleres: [
      "Reforma Fiscal 2025: Cambios Clave y Aplicaci√≥n Pr√°ctica",
      "Facturaci√≥n Electr√≥nica 4.0: Requisitos y Mejores Pr√°cticas",
      "Declaraci√≥n Anual para Personas F√≠sicas y Morales",
      "Obligaciones Fiscales seg√∫n R√©gimen Tributario"
    ]
  },
  {
    titulo: "Contabilidad Pr√°ctica",
    descripcion: "Fundamentos y aplicaciones para gesti√≥n financiera efectiva",
    talleres: [
      "Contabilidad para No Contadores: Fundamentos Esenciales",
      "N√≥mina y Prestaciones: C√°lculo, Obligaciones y Optimizaci√≥n",
      "Contabilidad Electr√≥nica y Reportes Digitales",
      "Control Interno y Pol√≠ticas Contables"
    ]
  },
  {
    titulo: "Optimizaci√≥n Fiscal",
    descripcion: "Estrategias legales para reducir la carga tributaria",
    talleres: [
      "Deducciones Personales y Empresariales: Gu√≠a Completa",
      "Est√≠mulos Fiscales Vigentes y su Aplicaci√≥n",
      "Planeaci√≥n Fiscal Legal para Empresas",
      "Estructuraci√≥n Fiscal de Negocios"
    ]
  },
  {
    titulo: "Tecnolog√≠a Fiscal",
    descripcion: "Herramientas digitales para eficiencia contable",
    talleres: [
      "Herramientas Digitales para Contabilidad y Finanzas",
      "Automatizaci√≥n de Procesos Fiscales y Contables",
      "XMLSAT Premium: Aprovechamiento M√°ximo",
      "Seguridad Digital en la Gesti√≥n Fiscal"
    ]
  }
];

// URL de tu perfil de Lu.ma (sustituir con tu URL real)
const lumaProfileUrl = "https://lu.ma/todoconta";
---

<Layout title="Talleres y Capacitaci√≥n | Todoconta" description="Calendario de talleres y capacitaciones especializadas en temas fiscales y contables. Cursos presenciales y virtuales con enfoque pr√°ctico para la optimizaci√≥n fiscal de tu empresa.">
  
  <!-- Hero Section -->
  <section class="talleres-hero">
    <div class="container">
      <div class="hero-content">
        <h1 class="hero-title">Talleres y Capacitaci√≥n</h1>
        <p class="hero-description">
          Actualiza tus conocimientos fiscales y contables con nuestros talleres especializados.
          Metodolog√≠a pr√°ctica, instructores expertos y contenido siempre actualizado.
        </p>
        <div class="hero-actions">
          <a href="#calendario" class="btn btn-primary">Ver Calendario</a>
          <a href="#categorias" class="btn btn-outline">Explorar Categor√≠as</a>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Beneficios Section -->
  <section class="beneficios-section">
    <div class="container">
      <h2 class="section-title">¬øPor qu√© elegir nuestros talleres?</h2>
      
      <div class="beneficios-grid">
        <div class="beneficio-card">
          <div class="beneficio-icon">üë®‚Äçüè´</div>
          <h3 class="beneficio-title">Instructores Expertos</h3>
          <p class="beneficio-description">
            Facilitadores con amplia experiencia pr√°ctica que combinan conocimiento te√≥rico con aplicaci√≥n real.
          </p>
        </div>
        
        <div class="beneficio-card">
          <div class="beneficio-icon">üìö</div>
          <h3 class="beneficio-title">Contenido Actualizado</h3>
          <p class="beneficio-description">
            Informaci√≥n siempre al d√≠a con las √∫ltimas reformas fiscales y criterios del SAT.
          </p>
        </div>
        
        <div class="beneficio-card">
          <div class="beneficio-icon">üõ†Ô∏è</div>
          <h3 class="beneficio-title">Enfoque Pr√°ctico</h3>
          <p class="beneficio-description">
            Metodolog√≠a basada en casos reales y ejercicios aplicables inmediatamente en tu empresa.
          </p>
        </div>
        
        <div class="beneficio-card">
          <div class="beneficio-icon">üîÑ</div>
          <h3 class="beneficio-title">Seguimiento Post-Taller</h3>
          <p class="beneficio-description">
            Sesi√≥n de resoluci√≥n de dudas posterior para asegurar la correcta aplicaci√≥n de lo aprendido.
          </p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Calendario Section (Lu.ma integration) -->
  <section class="calendario-section" id="calendario">
    <div class="container">
      <h2 class="section-title">Pr√≥ximos Talleres</h2>
      <p class="section-subtitle">
        Inscr√≠bete directamente a nuestros pr√≥ximos talleres virtuales y presenciales.
      </p>
      
      <div class="luma-container">
        <!-- Fallback en caso de que el iframe no cargue -->
        <div class="luma-fallback">
          <p>Cargando calendario de talleres...</p>
          <p>Si el calendario no se muestra, <a href={lumaProfileUrl} target="_blank" rel="noopener">haz clic aqu√≠ para ver todos nuestros talleres en Lu.ma</a></p>
        </div>
        
        <!-- Iframe de Lu.ma -->
        <!-- Nota: Ajusta el height seg√∫n tus necesidades -->
        <iframe 
          src={lumaProfileUrl} 
          width="100%" 
          height="800" 
          frameborder="0" 
          allowfullscreen 
          allow="fullscreen"
          style="border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg);"
          onload="document.querySelector('.luma-fallback').style.display = 'none';"
        ></iframe>
      </div>
    </div>
  </section>
  
  <!-- Categor√≠as Section -->
  <section class="categorias-section" id="categorias">
    <div class="container">
      <h2 class="section-title">Categor√≠as de Talleres</h2>
      <p class="section-subtitle">
        Explora nuestras diferentes √°reas de especializaci√≥n
      </p>
      
      <div class="categorias-grid">
        {categoriasTalleres.map(categoria => (
          <div class="categoria-card">
            <h3 class="categoria-title">{categoria.titulo}</h3>
            <p class="categoria-description">{categoria.descripcion}</p>
            <ul class="talleres-list">
              {categoria.talleres.map(taller => (
                <li class="taller-item">{taller}</li>
              ))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <!-- Taller In-Company Section -->
  <section class="incompany-section">
    <div class="container">
      <div class="incompany-content">
        <h2 class="incompany-title">¬øNecesitas un taller especializado para tu empresa?</h2>
        <p class="incompany-description">
          Dise√±amos programas de capacitaci√≥n a medida seg√∫n las necesidades espec√≠ficas de tu organizaci√≥n.
          Adaptamos contenido, duraci√≥n y formato para maximizar el valor para tu equipo.
        </p>
        <div class="incompany-features">
          <div class="incompany-feature">
            <span class="feature-icon">‚úÖ</span>
            <span class="feature-text">Contenido personalizado para tu industria</span>
          </div>
          <div class="incompany-feature">
            <span class="feature-icon">‚úÖ</span>
            <span class="feature-text">Formato presencial, virtual o h√≠brido</span>
          </div>
          <div class="incompany-feature">
            <span class="feature-icon">‚úÖ</span>
            <span class="feature-text">Ejercicios basados en casos reales de tu empresa</span>
          </div>
          <div class="incompany-feature">
            <span class="feature-icon">‚úÖ</span>
            <span class="feature-text">Descuentos especiales para grupos grandes</span>
          </div>
        </div>
        <a href="#contacto" class="btn btn-primary">Solicitar Propuesta</a>
      </div>
    </div>
  </section>
  
  <!-- Testimonials Section -->
  <section class="testimonials-section">
    <div class="container">
      <h2 class="section-title">Lo que dicen nuestros participantes</h2>
      
      <div class="testimonials-grid">
        <div class="testimonial-card">
          <div class="quote-icon">"</div>
          <p class="testimonial-quote">
            El taller de Reforma Fiscal 2025 fue exactamente lo que necesit√°bamos. Explicaciones claras, ejemplos pr√°cticos y la posibilidad de resolver dudas espec√≠ficas de nuestra industria.
          </p>
          <div class="testimonial-author">
            <div class="author-info">
              <h4 class="author-name">Claudia Ram√≠rez</h4>
              <p class="author-position">Directora Financiera, Grupo Industrial Mexicano</p>
            </div>
          </div>
        </div>
        
        <div class="testimonial-card">
          <div class="quote-icon">"</div>
          <p class="testimonial-quote">
            Como emprendedor, el taller de 'Contabilidad para No Contadores' me dio exactamente las herramientas que necesitaba para entender y supervisar eficazmente las finanzas de mi negocio.
          </p>
          <div class="testimonial-author">
            <div class="author-info">
              <h4 class="author-name">Sof√≠a Hern√°ndez</h4>
              <p class="author-position">Fundadora & CEO, EcoSoluciones Sustentables</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Contact Section -->
  <section class="contact-section" id="contacto">
    <div class="container">
      <div class="contact-content">
        <div class="contact-info">
          <h2 class="contact-title">¬øTienes preguntas sobre nuestros talleres?</h2>
          <p class="contact-description">
            Completa el formulario y nuestro equipo se pondr√° en contacto contigo para brindarte toda la informaci√≥n que necesitas.
          </p>
          <div class="contact-methods">
            <div class="contact-method">
              <span class="method-icon">üìû</span>
              <span class="method-text">(55) 4475-3602</span>
            </div>
            <div class="contact-method">
              <span class="method-icon">‚úâÔ∏è</span>
              <span class="method-text">talleres@todoconta.com</span>
            </div>
            <div class="contact-method">
              <span class="method-icon">üí¨</span>
              <span class="method-text">Chat WhatsApp</span>
            </div>
          </div>
        </div>
        
        <form class="contact-form" id="talleresForm">
          <div class="form-group">
            <label for="nombre" class="form-label">Nombre completo</label>
            <input type="text" id="nombre" name="nombre" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label for="email" class="form-label">Correo electr√≥nico</label>
            <input type="email" id="email" name="email" class="form-input" required>
          </div>
          
          <div class="form-group">
            <label for="telefono" class="form-label">Tel√©fono</label>
            <input type="tel" id="telefono" name="telefono" class="form-input">
          </div>
          
          <div class="form-group">
            <label for="empresa" class="form-label">Empresa</label>
            <input type="text" id="empresa" name="empresa" class="form-input">
          </div>
          
          <div class="form-group">
            <label for="mensaje" class="form-label">Mensaje</label>
            <textarea id="mensaje" name="mensaje" class="form-textarea" rows="4"></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary form-submit">Enviar Mensaje</button>
        </form>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Hero Section */
  .talleres-hero {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--primary-800) 100%);
    color: white;
    padding: var(--space-16) 0;
    text-align: center;
  }
  
  .hero-title {
    font-size: var(--font-size-5xl);
    font-weight: 800;
    margin-bottom: var(--space-6);
  }
  
  .hero-description {
    font-size: var(--font-size-xl);
    max-width: 700px;
    margin: 0 auto var(--space-8);
    opacity: 0.9;
  }
  
  .hero-actions {
    display: flex;
    gap: var(--space-4);
    justify-content: center;
  }
  
  /* Beneficios Section */
  .beneficios-section {
    padding: var(--space-16) 0;
    background-color: var(--color-white);
  }
  
  .beneficios-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-10);
  }
  
  .beneficio-card {
    background-color: white;
    border-radius: var(--border-radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-md);
    text-align: center;
    transition: all var(--transition-normal);
  }
  
  .beneficio-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
  }
  
  .beneficio-icon {
    font-size: 2.5rem;
    margin-bottom: var(--space-4);
  }
  
  .beneficio-title {
    font-family: var(--font-secondary);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--space-3);
  }
  
  .beneficio-description {
    color: var(--neutral-600);
  }
  
  /* Calendario Section */
  .calendario-section {
    padding: var(--space-16) 0;
  }
  
  .luma-container {
    margin-top: var(--space-8);
    position: relative;
  }
  
  .luma-fallback {
    text-align: center;
    padding: var(--space-8);
    background-color: var(--neutral-100);
    border-radius: var(--border-radius-lg);
    border: 1px dashed var(--neutral-300);
  }
  
  /* Categor√≠as Section */
  .categorias-section {
    padding: var(--space-16) 0;
    background-color: var(--color-white);
  }
  
  .categorias-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-8);
  }
  
  .categoria-card {
    background-color: white;
    border-radius: var(--border-radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-md);
    height: 100%;
  }
  
  .categoria-title {
    font-family: var(--font-secondary);
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--color-primary);
    margin-bottom: var(--space-3);
    padding-bottom: var(--space-3);
    border-bottom: 1px solid var(--neutral-200);
  }
  
  .categoria-description {
    color: var(--neutral-600);
    margin-bottom: var(--space-4);
  }
  
  .talleres-list {
    list-style: none;
  }
  
  .taller-item {
    padding: var(--space-2) 0;
    border-bottom: 1px dashed var(--neutral-200);
    color: var(--neutral-700);
  }
  
  .taller-item:last-child {
    border-bottom: none;
  }
  
  /* In-Company Section */
  .incompany-section {
    padding: var(--space-16) 0;
    background-color: var(--primary-50);
  }
  
  .incompany-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
  }
  
  .incompany-title {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    color: var(--primary-700);
    margin-bottom: var(--space-4);
  }
  
  .incompany-description {
    font-size: var(--font-size-lg);
    color: var(--neutral-600);
    margin-bottom: var(--space-8);
  }
  
  .incompany-features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-4);
    margin-bottom: var(--space-8);
    text-align: left;
  }
  
  .incompany-feature {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }
  
  .feature-icon {
    color: var(--green-600);
    font-size: 1.25rem;
  }
  
  /* Testimonials Section */
  .testimonials-section {
    padding: var(--space-16) 0;
  }
  
  .testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-6);
    margin-top: var(--space-8);
  }
  
  .testimonial-card {
    background-color: white;
    border-radius: var(--border-radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-md);
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .quote-icon {
    position: absolute;
    top: var(--space-4);
    left: var(--space-4);
    font-size: 3rem;
    line-height: 1;
    color: var(--primary-200);
    font-family: serif;
    font-weight: bold;
    opacity: 0.5;
  }
  
  .testimonial-quote {
    padding-top: var(--space-6);
    margin-bottom: var(--space-6);
    font-style: italic;
    color: var(--neutral-700);
    flex-grow: 1;
  }
  
  .testimonial-author {
    border-top: 1px solid var(--neutral-200);
    padding-top: var(--space-4);
    margin-top: auto;
  }
  
  .author-name {
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--space-1);
  }
  
  .author-position {
    color: var(--color-white0);
    font-size: 0.875rem;
  }
  
  /* Contact Section */
  .contact-section {
    padding: var(--space-16) 0;
    background-color: var(--color-text-primary);
    color: white;
  }
  
  .contact-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-8);
    align-items: center;
  }
  
  .contact-title {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--space-4);
  }
  
  .contact-description {
    margin-bottom: var(--space-6);
    color: var(--neutral-300);
  }
  
  .contact-methods {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }
  
  .contact-method {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }
  
  .method-icon {
    font-size: 1.5rem;
  }
  
  .contact-form {
    background-color: white;
    padding: var(--space-6);
    border-radius: var(--border-radius-xl);
    box-shadow: var(--shadow-lg);
  }
  
  .form-group {
    margin-bottom: var(--space-4);
  }
  
  .form-label {
    display: block;
    margin-bottom: var(--space-2);
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--neutral-800);
  }
  
  .form-input,
  .form-textarea {
    width: 100%;
    padding: var(--space-3);
    border: 1px solid var(--neutral-300);
    border-radius: var(--border-radius-md);
    font-family: var(--font-primary);
    transition: all var(--transition-fast);
  }
  
  .form-input:focus,
  .form-textarea:focus {
    outline: none;
    border-color: var(--primary-400);
    box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.15);
  }
  
  .form-submit {
    width: 100%;
  }
  
  /* Responsive Styles */
  @media (max-width: 768px) {
    .hero-actions {
      flex-direction: column;
      gap: var(--space-3);
    }
    
    .contact-content {
      grid-template-columns: 1fr;
    }
    
    .contact-info {
      text-align: center;
      margin-bottom: var(--space-8);
    }
    
    .contact-methods {
      align-items: center;
    }
    
    .incompany-features {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  // Script para manejar el formulario
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('talleresForm');
    
    if (form) {
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Aqu√≠ puedes agregar la l√≥gica para enviar el formulario
        // Por ejemplo, usando fetch para enviar a tu endpoint
        
        // Simulaci√≥n de env√≠o exitoso
        alert('¬°Gracias por tu mensaje! Te contactaremos pronto.');
        form.reset();
      });
    }
  });
</script>