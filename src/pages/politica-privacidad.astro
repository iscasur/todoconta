---
// src/pages/politica-privacidad.astro
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/ui/Navbar.astro';
import Footer from '../components/ui/Footer.astro';

// Importar los estilos globales
import '../styles/reset.css';
import '../styles/design-system.css';
import '../styles/global.css';
---

<Layout 
  title="Pol√≠tica de Privacidad - TodoConta" 
  description="Conoce c√≥mo TodoConta protege y maneja tus datos personales. Cumplimos con la Ley Federal de Protecci√≥n de Datos Personales en Posesi√≥n de los Particulares.">
  
  <Navbar />
  
  <!-- Legal Page Header -->
  <section class="legal-header">
    <div class="container">
      <div class="header-content">
        <h1 class="legal-title fade-in-up">Pol√≠tica de Privacidad</h1>
        <p class="legal-subtitle fade-in-up">
          En TodoConta, la protecci√≥n de tus datos personales es una prioridad. 
          Conoce c√≥mo manejamos tu informaci√≥n de manera segura y transparente.
        </p>
        <div class="legal-meta fade-in-up">
          <span class="meta-item">
            <span class="meta-icon">üìÖ</span>
            <span>√öltima actualizaci√≥n: 31 de julio de 2025</span>
          </span>
          <span class="meta-item">
            <span class="meta-icon">‚öñÔ∏è</span>
            <span>Cumplimiento LFPDPPP</span>
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Legal Content -->
  <section class="legal-content">
    <div class="container">
      <div class="content-grid">
        <!-- Table of Contents -->
        <aside class="legal-sidebar">
          <div class="toc-container">
            <h3 class="toc-title">Contenido</h3>
            <nav class="toc-nav">
              <a href="#responsable" class="toc-link">1. Responsable</a>
              <a href="#finalidades" class="toc-link">2. Finalidades del Tratamiento</a>
              <a href="#datos-solicitados" class="toc-link">3. Datos Solicitados</a>
              <a href="#transferencias" class="toc-link">4. Transferencia de Datos</a>
              <a href="#derechos-arco" class="toc-link">5. Derechos ARCO</a>
              <a href="#cookies" class="toc-link">6. Cookies</a>
              <a href="#seguridad" class="toc-link">7. Medidas de Seguridad</a>
              <a href="#conservacion" class="toc-link">8. Conservaci√≥n</a>
              <a href="#cambios" class="toc-link">9. Cambios</a>
              <a href="#contacto" class="toc-link">10. Contacto</a>
            </nav>
            
            <div class="contact-card">
              <h4>¬øTienes dudas?</h4>
              <p>Cont√°ctanos para cualquier consulta sobre privacidad</p>
              <a href="mailto:privacidad@todoconta.com" class="contact-btn">
                privacidad@todoconta.com
              </a>
            </div>
          </div>
        </aside>

        <!-- Main Content -->
        <main class="legal-main">
          <div class="legal-intro">
            <p class="intro-text">
              En cumplimiento con la <strong>Ley Federal de Protecci√≥n de Datos Personales en Posesi√≥n de los Particulares (LFPDPPP)</strong>, 
              hacemos de tu conocimiento c√≥mo tratamos y protegemos tu informaci√≥n personal.
            </p>
          </div>

          <!-- Section 1: Responsable -->
          <section id="responsable" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">1.</span>
              Identidad y Domicilio del Responsable
            </h2>
            <div class="content-card">
              <div class="company-info">
                <h3>TodoConta</h3>
                <div class="info-grid">
                  <div class="info-item">
                    <span class="info-label">üìç Domicilio:</span>
                    <span>Calle 15 de mayo #9, San Jer√≥nimo, Michoac√°n, M√©xico, CP 61993</span>
                  </div>
                  <div class="info-item">
                    <span class="info-label">üìû Tel√©fono:</span>
                    <span>(55) 4475-3602</span>
                  </div>
                  <div class="info-item">
                    <span class="info-label">‚úâÔ∏è Email:</span>
                    <span>privacidad@todoconta.com</span>
                  </div>
                  <div class="info-item">
                    <span class="info-label">üïí Horario:</span>
                    <span>Lunes a viernes de 9:00 a 18:00 hrs</span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Section 2: Finalidades -->
          <section id="finalidades" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">2.</span>
              Finalidades del Tratamiento de Datos
            </h2>
            
            <div class="content-card">
              <h3 class="subsection-title">Finalidades Primarias (necesarias para el servicio)</h3>
              <ul class="feature-list">
                <li>Proveer servicios contables y fiscales solicitados</li>
                <li>Elaborar estados financieros y declaraciones fiscales</li>
                <li>Gestionar n√≥minas y tr√°mites ante IMSS/INFONAVIT</li>
                <li>Responder consultas y brindar soporte t√©cnico</li>
                <li>Facturaci√≥n y cobranza de servicios</li>
                <li>Cumplir obligaciones legales y regulatorias</li>
              </ul>
            </div>

            <div class="content-card secondary">
              <h3 class="subsection-title">Finalidades Secundarias (opcionales, requieren consentimiento)</h3>
              <ul class="feature-list">
                <li>Enviar informaci√≥n sobre productos, promociones y actualizaciones</li>
                <li>Realizar encuestas de satisfacci√≥n</li>
                <li>Invitaciones a eventos y capacitaciones</li>
                <li>An√°lisis estad√≠sticos para mejorar servicios</li>
              </ul>
              <div class="notice-box">
                <span class="notice-icon">‚ÑπÔ∏è</span>
                <p>Puedes oponerte al uso de tus datos para finalidades secundarias en cualquier momento.</p>
              </div>
            </div>
          </section>

          <!-- Section 3: Datos Solicitados -->
          <section id="datos-solicitados" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">3.</span>
              Datos Personales Solicitados
            </h2>
            
            <div class="data-types-grid">
              <div class="data-type-card">
                <h3>üÜî Datos de Identificaci√≥n</h3>
                <ul>
                  <li>Nombre completo</li>
                  <li>Correo electr√≥nico</li>
                  <li>Tel√©fono (fijo y m√≥vil)</li>
                  <li>Fecha de nacimiento</li>
                  <li>CURP</li>
                </ul>
              </div>
              
              <div class="data-type-card">
                <h3>üìß Datos de Contacto</h3>
                <ul>
                  <li>Direcci√≥n particular</li>
                  <li>Direcci√≥n fiscal</li>
                  <li>C√≥digo postal</li>
                </ul>
              </div>
              
              <div class="data-type-card">
                <h3>üí∞ Datos Fiscales y Financieros</h3>
                <ul>
                  <li>RFC</li>
                  <li>R√©gimen fiscal</li>
                  <li>Datos bancarios</li>
                  <li>Informaci√≥n contable</li>
                  <li>Facturas y comprobantes</li>
                </ul>
              </div>
              
              <div class="data-type-card">
                <h3>üëî Datos Laborales</h3>
                <ul>
                  <li>Puesto de trabajo</li>
                  <li>Salario (para n√≥minas)</li>
                  <li>Datos de empleados</li>
                </ul>
              </div>
            </div>

            <div class="warning-box">
              <span class="warning-icon">üîê</span>
              <p><strong>Nota importante:</strong> Los datos financieros para pagos son procesados a trav√©s de proveedores autorizados como PayPal, Stripe o bancos, quienes tienen sus propias pol√≠ticas de privacidad.</p>
            </div>
          </section>

          <!-- Section 4: Transferencias -->
          <section id="transferencias" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">4.</span>
              Transferencia de Datos
            </h2>
            
            <div class="content-card">
              <p class="emphasis-text">
                Tus datos personales <strong>no ser√°n compartidos con terceros</strong> sin tu consentimiento expreso, 
                salvo en los siguientes casos:
              </p>
              
              <div class="transfer-types">
                <div class="transfer-type">
                  <h3>‚öñÔ∏è Transferencias Autorizadas por Ley</h3>
                  <ul>
                    <li>Autoridades fiscales (SAT, IMSS, INFONAVIT) seg√∫n requerimientos legales</li>
                    <li>Autoridades judiciales mediante orden judicial</li>
                    <li>Proveedores de servicios de pago para procesar transacciones</li>
                  </ul>
                </div>
                
                <div class="transfer-type">
                  <h3>‚úÖ Transferencias con Consentimiento</h3>
                  <ul>
                    <li>Instituciones bancarias para dep√≥sitos</li>
                    <li>Proveedores de servicios tecnol√≥gicos (hosting, email)</li>
                    <li>Socios comerciales para servicios complementarios</li>
                  </ul>
                </div>
              </div>
            </div>
          </section>

          <!-- Section 5: Derechos ARCO -->
          <section id="derechos-arco" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">5.</span>
              Ejercicio de Derechos ARCO
            </h2>
            
            <div class="arco-rights">
              <div class="right-card">
                <h3>üìã Acceder</h3>
                <p>A tus datos personales que tenemos en nuestros archivos</p>
              </div>
              <div class="right-card">
                <h3>‚úèÔ∏è Rectificar</h3>
                <p>Datos incorrectos, incompletos o no actualizados</p>
              </div>
              <div class="right-card">
                <h3>üóëÔ∏è Cancelar</h3>
                <p>El uso de tus datos cuando ya no sean necesarios</p>
              </div>
              <div class="right-card">
                <h3>üö´ Oponerte</h3>
                <p>Al uso de tus datos personales para fines espec√≠ficos</p>
              </div>
            </div>

            <div class="content-card">
              <h3>üìù Procedimiento para Ejercer tus Derechos</h3>
              <ol class="procedure-list">
                <li><strong>Env√≠a una solicitud a:</strong> privacidad@todoconta.com</li>
                <li><strong>Incluye:</strong>
                  <ul>
                    <li>Nombre completo del titular</li>
                    <li>Correo electr√≥nico registrado</li>
                    <li>Descripci√≥n clara del derecho que deseas ejercer</li>
                    <li>Documentos que acrediten tu identidad (INE, pasaporte)</li>
                  </ul>
                </li>
                <li><strong>Plazos:</strong>
                  <ul>
                    <li>Respuesta: M√°ximo 20 d√≠as h√°biles</li>
                    <li>Ejecuci√≥n: M√°ximo 15 d√≠as h√°biles posteriores</li>
                  </ul>
                </li>
              </ol>
            </div>
          </section>

          <!-- Section 6: Cookies -->
          <section id="cookies" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">6.</span>
              Uso de Cookies y Tecnolog√≠as Similares
            </h2>
            
            <div class="cookies-grid">
              <div class="cookie-type">
                <h3>üîß Cookies Esenciales</h3>
                <ul>
                  <li>Autenticaci√≥n y sesi√≥n de usuario</li>
                  <li>Preferencias de idioma y configuraci√≥n</li>
                  <li>Proceso de contrataci√≥n</li>
                </ul>
              </div>
              
              <div class="cookie-type">
                <h3>üìä Cookies Anal√≠ticas</h3>
                <ul>
                  <li>Google Analytics (an√°lisis de tr√°fico web)</li>
                  <li>M√©tricas de rendimiento del sitio</li>
                  <li>Patrones de uso y navegaci√≥n</li>
                </ul>
              </div>
              
              <div class="cookie-type">
                <h3>üì¢ Cookies de Marketing</h3>
                <ul>
                  <li>Publicidad personalizada</li>
                  <li>Redes sociales (Facebook, LinkedIn)</li>
                  <li>Retargeting y remarketing</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Section 7: Seguridad -->
          <section id="seguridad" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">7.</span>
              Medidas de Seguridad
            </h2>
            
            <div class="security-measures">
              <div class="measure-category">
                <h3>üîß Medidas T√©cnicas</h3>
                <ul>
                  <li>Cifrado SSL/TLS en todas las comunicaciones</li>
                  <li>Firewalls y sistemas de detecci√≥n de intrusos</li>
                  <li>Respaldos encriptados y seguros</li>
                  <li>Autenticaci√≥n de dos factores</li>
                </ul>
              </div>
              
              <div class="measure-category">
                <h3>üè¢ Medidas F√≠sicas</h3>
                <ul>
                  <li>Instalaciones con acceso controlado</li>
                  <li>C√°maras de seguridad y vigilancia</li>
                  <li>Archivos f√≠sicos en √°reas restringidas</li>
                </ul>
              </div>
              
              <div class="measure-category">
                <h3>üë• Medidas Administrativas</h3>
                <ul>
                  <li>Personal capacitado en protecci√≥n de datos</li>
                  <li>Acuerdos de confidencialidad</li>
                  <li>Auditor√≠as peri√≥dicas de seguridad</li>
                  <li>Pol√≠ticas internas de manejo de datos</li>
                </ul>
              </div>
            </div>
          </section>

          <!-- Section 8: Conservaci√≥n -->
          <section id="conservacion" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">8.</span>
              Conservaci√≥n de Datos
            </h2>
            
            <div class="retention-periods">
              <div class="retention-item">
                <h3>üë• Datos de Clientes Activos</h3>
                <p>Durante la relaci√≥n comercial vigente + 5 a√±os despu√©s de la terminaci√≥n (obligaciones fiscales)</p>
              </div>
              
              <div class="retention-item">
                <h3>üéØ Datos de Prospectos</h3>
                <p>M√°ximo 2 a√±os sin actividad comercial. Se eliminar√°n autom√°ticamente salvo solicitud expresa</p>
              </div>
              
              <div class="retention-item">
                <h3>üìÑ Documentos Fiscales</h3>
                <p>5 a√±os (seg√∫n legislaci√≥n fiscal mexicana). 10 a√±os para documentos de n√≥mina e IMSS</p>
              </div>
            </div>
          </section>

          <!-- Section 9: Cambios -->
          <section id="cambios" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">9.</span>
              Cambios en la Pol√≠tica de Privacidad
            </h2>
            
            <div class="content-card">
              <h3>üì¢ Notificaci√≥n de Cambios</h3>
              <ul class="feature-list">
                <li><strong>Cambios sustanciales:</strong> Notificaci√≥n por correo electr√≥nico y banner en el sitio web</li>
                <li><strong>Cambios menores:</strong> Actualizaci√≥n en el sitio web con nueva fecha</li>
                <li><strong>Per√≠odo de gracia:</strong> 30 d√≠as para ejercer derechos antes de que los cambios entren en vigor</li>
              </ul>
            </div>
          </section>

          <!-- Section 10: Contacto -->
          <section id="contacto" class="legal-section">
            <h2 class="section-title">
              <span class="section-number">10.</span>
              Contacto y Quejas
            </h2>
            
            <div class="contact-grid">
              <div class="contact-option">
                <h3>üìß Para Consultas sobre Privacidad</h3>
                <div class="contact-details">
                  <p><strong>Email:</strong> privacidad@todoconta.com</p>
                  <p><strong>Tel√©fono:</strong> (55) 4475-3602</p>
                  <p><strong>Horario:</strong> Lunes a viernes, 9:00 a 18:00 hrs</p>
                </div>
              </div>
              
              <div class="contact-option">
                <h3>‚öñÔ∏è Para Quejas ante Autoridades</h3>
                <div class="contact-details">
                  <p><strong>INAI</strong> (Instituto Nacional de Transparencia)</p>
                  <p><strong>Web:</strong> www.inai.org.mx</p>
                  <p><strong>Tel√©fono:</strong> 01 800 835 4324</p>
                  <p><strong>Email:</strong> atencion@inai.org.mx</p>
                </div>
              </div>
            </div>
          </section>

          <!-- Consent Notice -->
          <div class="consent-notice">
            <h3>‚úÖ Consentimiento</h3>
            <p>
              <strong>Al utilizar nuestros servicios, aceptas el tratamiento de tus datos conforme a esta Pol√≠tica de Privacidad.</strong>
              Para revocar tu consentimiento, contacta a privacidad@todoconta.com en cualquier momento.
            </p>
          </div>

          <!-- Footer Info -->
          <div class="legal-footer">
            <div class="company-signature">
              <h4>TodoConta - Tranquilidad Fiscal Garantizada</h4>
              <p>Calle 15 de mayo #9, San Jer√≥nimo, Michoac√°n, M√©xico, CP 61993</p>
              <p>Tel√©fono: (55) 4475-3602 | Email: hola@todoconta.com</p>
            </div>
          </div>
        </main>
      </div>
    </div>
  </section>

  <Footer />
  
  <script>
    // Smooth scrolling for TOC links
    document.addEventListener('DOMContentLoaded', () => {
      // TOC navigation
      const tocLinks = document.querySelectorAll('.toc-link');
      const sections = document.querySelectorAll('.legal-section');
      
      tocLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetId = link.getAttribute('href');
          const targetSection = document.querySelector(targetId);
          
          if (targetSection) {
            targetSection.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
            
            // Update active state
            tocLinks.forEach(l => l.classList.remove('active'));
            link.classList.add('active');
          }
        });
      });

      // Scroll spy for TOC
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '-100px 0px -50% 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.getAttribute('id');
            const activeLink = document.querySelector(`.toc-link[href="#${id}"]`);
            
            tocLinks.forEach(link => link.classList.remove('active'));
            if (activeLink) {
              activeLink.classList.add('active');
            }
          }
        });
      }, observerOptions);

      sections.forEach(section => {
        observer.observe(section);
      });

      // Animations
      const animationObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });

      document.querySelectorAll('.fade-in-up').forEach(el => {
        animationObserver.observe(el);
      });
    });
  </script>
</Layout>

<style>
  /* Legal Page Specific Styles */
  .legal-header {
    background: var(--bg-hero);
    color: white;
    padding: calc(var(--space-20) + var(--space-8)) 0 var(--space-16);
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .legal-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)" /></svg>');
    pointer-events: none;
  }

  .header-content {
    position: relative;
    z-index: 1;
    max-width: 800px;
    margin: 0 auto;
  }

  .legal-title {
    font-family: var(--font-display);
    font-size: var(--font-size-5xl);
    font-weight: 800;
    margin-bottom: var(--space-6);
    color: white;
    line-height: 1.1;
  }

  .legal-subtitle {
    font-size: var(--font-size-lg);
    color: rgba(255, 255, 255, 0.9);
    margin-bottom: var(--space-8);
    line-height: 1.6;
  }

  .legal-meta {
    display: flex;
    justify-content: center;
    gap: var(--space-8);
    flex-wrap: wrap;
  }

  .meta-item {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    color: rgba(255, 255, 255, 0.9);
    font-size: var(--font-size-sm);
  }

  .legal-content {
    padding: var(--space-20) 0;
    background: var(--bg-secondary);
  }

  .content-grid {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: var(--space-16);
    max-width: 1400px;
    margin: 0 auto;
    align-items: start;
  }

  /* Sidebar */
  .legal-sidebar {
    position: sticky;
    top: var(--space-8);
  }

  .toc-container {
    background: var(--bg-primary);
    border-radius: var(--border-radius-xl);
    padding: var(--space-6);
    box-shadow: var(--shadow-md);
  }

  .toc-title {
    font-family: var(--font-display);
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--neutral-900);
    margin-bottom: var(--space-4);
  }

  .toc-nav {
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    margin-bottom: var(--space-6);
  }

  .toc-link {
    padding: var(--space-2) var(--space-3);
    border-radius: var(--border-radius-md);
    text-decoration: none;
    color: var(--neutral-600);
    font-size: var(--font-size-sm);
    transition: all var(--transition-normal);
    border-left: 3px solid transparent;
  }

  .toc-link:hover,
  .toc-link.active {
    background: var(--primary-50);
    color: var(--primary-700);
    border-left-color: var(--primary-600);
  }

  .contact-card {
    background: var(--green-50);
    padding: var(--space-4);
    border-radius: var(--border-radius-lg);
    border: 1px solid var(--green-200);
  }

  .contact-card h4 {
    font-size: var(--font-size-base);
    font-weight: 600;
    color: var(--green-900);
    margin-bottom: var(--space-2);
  }

  .contact-card p {
    font-size: var(--font-size-sm);
    color: var(--green-700);
    margin-bottom: var(--space-3);
  }

  .contact-btn {
    display: block;
    background: var(--green-600);
    color: white;
    padding: var(--space-2) var(--space-3);
    border-radius: var(--border-radius-md);
    text-decoration: none;
    font-size: var(--font-size-sm);
    font-weight: 600;
    text-align: center;
    transition: all var(--transition-normal);
  }

  .contact-btn:hover {
    background: var(--green-700);
    transform: translateY(-1px);
  }

  /* Main Content */
  .legal-main {
    max-width: none;
  }

  .legal-intro {
    background: var(--bg-primary);
    padding: var(--space-8);
    border-radius: var(--border-radius-xl);
    margin-bottom: var(--space-12);
    box-shadow: var(--shadow-md);
  }

  .intro-text {
    font-size: var(--font-size-lg);
    color: var(--neutral-700);
    line-height: 1.6;
    margin: 0;
  }

  .legal-section {
    margin-bottom: var(--space-16);
  }

  .section-title {
    font-family: var(--font-display);
    font-size: var(--font-size-3xl);
    font-weight: 700;
    color: var(--neutral-900);
    margin-bottom: var(--space-8);
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .section-number {
    background: var(--primary-600);
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-lg);
    font-weight: 800;
  }

  .content-card {
    background: var(--bg-primary);
    padding: var(--space-8);
    border-radius: var(--border-radius-xl);
    margin-bottom: var(--space-6);
    box-shadow: var(--shadow-md);
  }

  .content-card.secondary {
    background: var(--orange-50);
    border: 1px solid var(--orange-200);
  }

  .subsection-title {
    font-family: var(--font-display);
    font-size: var(--font-size-xl);
  }
</style>
